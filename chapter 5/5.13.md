## exercise 5.13

The simplest way is to modify the `lookup-register` function inside `make-new-machine`.

``` Scheme
(define (lookup-register name)
  (let ((val (assoc name register-table)))
    (if val
        (cadr val)
        (let ((reg (list name (make-register name))))
          (set! register-table (cons reg register-table))
          (cadr reg)))))
```

When a register cannot be found, it is allocated automatically.You can also remove the `allocate-register` in the machine.
